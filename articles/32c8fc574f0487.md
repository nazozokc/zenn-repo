---
title: "dotfilesの管理をnixにした話"
emoji: "🗂"
type: "tech" # tech: 技術記事 / idea: アイデア
topics: ["Nix", "cli", "dotfiles"]
published: true
---

## なぜnixを使おうと思ったか
なぜnixを使おうと思ったかというと、単純になんかみんな最近nix,nix言っているからです。みんな言ってたらそりゃ試したくなりますよ。
まだ学びたての意見ですが参考になれば幸いです。

## 何を管理するようにしたか
基本的に以下の管理をnixに移行しました
- dotfiles
- CLI-tool
- GUI-tool
- nvim-LSP
- nodejs

## ディレクトリ構成

わたしは、以下のファイル構成で管理しています

```
|-flake.nix
| nix/ | |
| nix/shared.nix | ファイル |
| nix/cachix.nix | ファイル |
| nix/modules/ | |
| nix/modules/tools/ | ディレクトリ |
| nix/modules/tools/packages.nix | ファイル |
| nix/modules/tools/program/ | ディレクトリ |
| nix/modules/tools/program/gh.nix | ファイル |
| nix/modules/tools/program/gh/gh.nix | ファイル |
| nix/modules/home-manager/ | ディレクトリ |
| nix/modules/home-manager/symlinks.nix | ファイル |
| nix/modules/home-manager/darwin.nix | ファイル |
| nix/modules/home-manager/linux.nix | ファイル |
| nix/modules/home-manager/tools-read.nix | ファイル |
| nix/modules/darwin/ | ディレクトリ |
| nix/modules/darwin/system.nix | ファイル |
| nix/modules/darwin/darwin.nix | ファイル |
| nix/packages/ | |
| nix/packages/node/ | ディレクトリ |
| nix/packages/node/default.nix | ファイル |
| nix/packages/node/update.sh | ファイル |
| nix/overlays/ | |
| nix/overlays/default.nix | ファイル |
| nix/overlays/ai-tools.nix | ファイル |
```

---

## 具体的にどのように使っているか
私はlinuxはhome-managerで、macOSはnix-darwin & home-managerで管理しています。
もともとnixで管理する理由がマルチシステム対応にできることとpackages.nixで管理しているパッケージを一瞬で見ることができるから使っているという面もあります。

ですが1つ問題があったんです。それはあまりにもログが気持ちよくない
そのために使っているのが、nix-output-monitorというものを使っています。
これは、今何をインストールしているかなどがひと目で見ることができます。
そして何より、ログ見てて気持ちいい＝素晴らしい！

cachixは使おうと思ったのですが、今の自分にはあまり必要性を感じられなかったので使っていません。


<https://github.com/maralorn/nix-output-monitor> 

## まとめ
いかがでしたでしょうか？今回は私が初心者ながら実際にどのようにnixを使っているかを紹介しました、コードはほぼAIなんですけどねw。
今回の記事が少しでも皆さんの役に立てば幸いです
記事はファイルの中身や使い方が変わったら更新しようと思います。

<https://github.com/nazozokc/dotfiles>

---
今回の記事はこのレポジトリで公開しています。間違っている場所があればissueを立てていただければ幸いです。
<https://github.com/nazozokc/zenn-repo>
